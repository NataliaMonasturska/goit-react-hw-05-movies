{"version":3,"file":"static/js/764.9f8196b9.chunk.js","mappings":"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","sources":["pages/Movies.js","services/Api.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { useSearchParams, useLocation, Link, } from 'react-router-dom';\nimport { getSearchMovie } from '../services/Api';\nimport Notiflix from 'notiflix';\nimport { SearchFormInput, Button, Form, Ul, Li, Title, ContainerImg, ContainerTitle, Img, Loader, ContainerFlex } from '../components/styled';\nimport { RotatingLines } from 'react-loader-spinner';\n\nconst Movies = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [query, setQuery] = useState(searchParams.get('query') ?? '');\n  const [isLoading, setIsLoading] = useState(false);\n  const [inputValue, setinputValue] = useState(searchParams.get('query') ?? '');\n  const [films, setFilms] = useState([]);\n  const location = useLocation();\n\n\n  useEffect(() => {\n    if (query === '') {\n      return;\n    }\n    setIsLoading(true);\n    getSearchMovie(query)\n      .then(data => {\n        setFilms(data.results);\n\n        if (data.results.length === 0) {\n          Notiflix.Notify.failure(\n            'Sorry, there are no movies matching your search query. Please try again.'\n          );\n        }\n      })\n      .catch(error => {\n        console.error(error);\n      }).finally(() => {\n        setIsLoading(false);\n      });\n  }, [query]);\n\n  const onSubmit = e => {\n    e.preventDefault();\n    if (inputValue.trim() === '') {\n      Notiflix.Notify.failure('Enter a query');\n      setinputValue('')\n      return\n    }\n    setQuery(inputValue.trim());\n    setSearchParams(\n      inputValue.trim() !== ''\n        ? { query: inputValue.trim() }\n        : {}\n    );\n  };\n  const handleChangeInput = event => {\n    setinputValue(event.target.value)\n  }\n\n\n  return (\n    <ContainerFlex>\n      <Form onSubmit={onSubmit}>\n        <SearchFormInput type=\"text\" name=\"text\" value={inputValue} onChange={handleChangeInput}></SearchFormInput>\n        <Button type=\"submit\"></Button>\n      </Form>\n      {!isLoading && (<Ul>\n        {films.length > 0 &&\n          films.map(film => (\n            <Li key={film.id}>\n              <Link to={`/movies/${film.id}`} state={{ from: location }}>\n                <ContainerImg>\n                  <Img\n                    src={`https://image.tmdb.org/t/p/w500${film.poster_path}`}\n                    alt={film.title}\n                  />\n                </ContainerImg>\n                <ContainerTitle>\n                  <Title>{film.title}</Title>\n                </ContainerTitle>\n              </Link>\n            </Li>\n          ))}\n      </Ul>)}\n      {isLoading && (<Loader>\n        <RotatingLines\n          strokeColor=\"#3f51b5\"\n          strokeWidth=\"5\"\n          animationDuration=\"0.75\"\n          width=\"150\"\n          visible={true}\n        />\n      </Loader>)}\n\n    </ContainerFlex>\n  );\n};\nexport default Movies;\n","const MY_API_KEY = 'ceffe16ccd7d46ce9932d25cc21ec8d8';\nconst BASE_URL = 'https://api.themoviedb.org/3/';\n\nexport const getTrendingMovie = () => {\n  return fetch(`${BASE_URL}trending/movie/day?api_key=${MY_API_KEY}`).then(\n    response => {\n      return response.ok\n        ? response.json()\n        : Promise.reject(new Error('Not found'));\n    }\n  );\n};\n\nexport const getSearchMovie = query => {\n  return fetch(\n    `${BASE_URL}search/movie?api_key=${MY_API_KEY}&query=${query}`\n  ).then(response => {\n    return response.ok\n      ? response.json()\n      : Promise.reject(new Error('Not found'));\n  });\n};\n\nexport const getMovieDetails = movieId => {\n  return fetch(`${BASE_URL}movie/${movieId}?api_key=${MY_API_KEY}`).then(\n    response => {\n      return response.ok\n        ? response.json()\n        : Promise.reject(new Error('Not found'));\n    }\n  );\n};\n\nexport const getMovieCast = movieId => {\n  return fetch(\n    `${BASE_URL}movie/${movieId}/credits?api_key=${MY_API_KEY}`\n  ).then(response => {\n    return response.ok\n      ? response.json()\n      : Promise.reject(new Error('Not found'));\n  });\n};\nexport const getMovieReviews = movieId => {\n    return fetch(\n      `${BASE_URL}movie/${movieId}/reviews?api_key=${MY_API_KEY}`\n    ).then(response => {\n      return response.ok\n        ? response.json()\n        : Promise.reject(new Error('Not found'));\n    });\n  };\n  \n"],"names":["useSearchParams","searchParams","setSearchParams","useState","get","query","setQuery","isLoading","setIsLoading","inputValue","setinputValue","films","setFilms","location","useLocation","useEffect","getSearchMovie","then","data","results","length","Notiflix","catch","error","console","finally","onSubmit","e","preventDefault","trim","type","name","value","onChange","event","target","Ul","map","film","Li","to","id","state","from","src","poster_path","alt","title","strokeColor","strokeWidth","animationDuration","width","visible","MY_API_KEY","BASE_URL","getTrendingMovie","fetch","response","ok","json","Promise","reject","Error","getMovieDetails","movieId","getMovieCast","getMovieReviews"],"sourceRoot":""}